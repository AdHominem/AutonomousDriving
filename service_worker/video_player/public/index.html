<!--Continental Automotive AG, foss@continental-corporation.com  
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
<!DOCTYPE html>
<html>

<head>
    <title>Video Player</title>
    <script src="autobahn.min.js"></script>
    <script src="video2wamp.js"></script>
</head>

<body>
    <h1>Persona Video</h1>
    <video id="persona" width="731" height="548" controls>
        <source src="" type="video/mp4"> 
        <source src="" type="video/webm"> Your browser does not support the video tag.
    </video>
    <script>
        console.log("try connecting to Service Router...");
        var video2OBDWorker = new cVideo2Wamp("127.0.0.1");
        // Get the <video> element with id="persona"
        var vid = document.getElementById("persona");
        // give handle to OBD Worker he is responsible for choosing the right persona video
        cVideo2Wamp.setVid(vid);
        // Assign an ontimeupdate and send current time to videoplayer
        vid.ontimeupdate = function () {video2OBDWorker.setCurrentTime(vid.currentTime)};
    </script>
</body>

</html>